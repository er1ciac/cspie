# SM4查表加速

本项目实现了 SM4 对称密码算法的查表优化版本，通过使用4个预计算查找表 (Table0-Table3) 替代传统的 S盒和循环移位运算显著提升算法执行效率。

## 算法原理

为了提升效率，可将S盒与后续的循环移位变换合并，通过4个表来快速查找结果。

### 查表优化说明

传统 SM4 算法需要：
1. S盒替换 
2. 线性变换 L 

查表优化将这两步合并为：
- Table0-Table3: 每个表256个32位条目，直接输出变换后的结果
- 一次查表操作替代多次位运算，大幅减少计算开销

## 文件说明

- `main.cpp`: 主程序，包含测试用例和性能测试
- `sm4.h`: SM4算法头文件，定义接口和计时器类
- `sm4.cpp`: SM4查找表优化实现
- `sm4_noop.cpp`: SM4无优化标准实现

## 使用方法

编译优化版本，在终端中输入命令：

` g++ main.cpp sm4.cpp  -o sm4 `

编译无优化版本，在终端中输入命令：

` g++ main.cpp sm4_noop.cpp  -o sm4_noop `

## 运行结果
以下是SM4算法的执行结果，发现在同时执行1000次加密的时候，查表法比普通版本快：

![SM4查找表](./res.png)